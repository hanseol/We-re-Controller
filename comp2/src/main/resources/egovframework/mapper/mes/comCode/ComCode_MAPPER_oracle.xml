<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">

<mapper namespace="mes.com.comCode.service.impl.ComCodeMapper">
	

	<resultMap id="comCode" type="mes.com.comCode.service.ComCodeVO">
		<result property="comCodeId" column="COM_CODE_ID" />
		<result property="comCodeName" column="COM_CODE_NAME" />
		<result property="comCodeDesc" column="COM_CODE_DESC" />
		<result property="comCodeUsedchk" column="COM_CODE_USEDCHK" />
	</resultMap>
	
	<insert id="insertComCode">
		<![CDATA[
			INSERT INTO COM_CODE 
				( COM_CODE_ID
				  , COM_CODE_NAME
				  , COM_CODE_DESC
				  , COM_CODE_USEDCHK )
			VALUES ( #{comCodeId}
				  , #{comCodeName}
				  , #{comCodeDesc}
				  , #{comCodeUsedchk} )
		]]>
	</insert>
	
	<update id="updateComCode">
		<![CDATA[
			UPDATE COM_CODE
			SET COM_CODE_ID=#{comCodeId}
				, COM_CODE_NAME=#{comCodeName}
				, COM_CODE_DESC=#{comCodeDesc}
				, COM_CODE_USEDCHK=#{comCodeUsedchk}
						WHERE COM_CODE_ID=#{comCodeId}
				]]>
	</update>
	
	<delete id="deleteComCode">
		<![CDATA[
			DELETE FROM COM_CODE 
						WHERE COM_CODE_ID=#{comCodeId}
				]]>
	</delete>
	
	<select id="selectComCode" resultMap="comCode">
		<![CDATA[
			SELECT
				COM_CODE_ID
				, COM_CODE_NAME
				, COM_CODE_DESC
				, COM_CODE_USEDCHK
			FROM COM_CODE
						WHERE COM_CODE_ID=#{comCodeId}
				]]>
	</select>
	
	<select id="selectComCodeList" parameterType="mes.com.comCode.service.ComCodeVO" resultType="egovMap">
				SELECT COM_CODE_ID
					, COM_CODE_NAME
					, COM_CODE_DESC
					, COM_CODE_USEDCHK
				FROM COM_CODE
	</select>
		
	<select id="selectComCodeListTotCnt" parameterType="mes.com.comCode.service.ComCodeVO" resultType="int">
			SELECT COUNT(*) totcnt
			FROM COM_CODE
	</select>
	
	<select id="selectComCodeDetailList" parameterType="mes.com.comCode.service.ComCodeVO" resultType="egovMap">
			SELECT COM_CODE_DETAIL_ID
			, COM_CODE_DETAIL_NAME
			, COM_CODE_DETAIL_DESC
			, COM_CODE_DETAIL_SEQ
			, COM_CODE_DETAIL_USEDCHK
			FROM COM_CODE_DETAIL
			<if test="(comCodeId != null and comCodeId != '')  ">
			WHERE COM_CODE_ID LIKE UPPER(#{comCodeId})
			</if>
	</select>	

	<update id="updateComCodeDetail">
		UPDATE COM_CODE_DETAIL
		SET COM_CODE_DETAIL_NAME = #{comCodeDetailName}
		, COM_CODE_DETAIL_DESC = #{comCodeDetailDesc}
		, COM_CODE_DETAIL_SEQ = #{comCodeDetailSeq}
		, COM_CODE_DETAIL_USEDCHK = #{comCodeDetailUsedchk}
		WHERE COM_CODE_DETAIL_ID = UPPER(#{comCodeDetailId})
	</update>
	
	<insert id="insertComCodeDetail">
		INSERT INTO COM_CODE_DETAIL
		(COM_CODE_ID
		, COM_CODE_DETAIL_ID
		, COM_CODE_DETAIL_NAME
		, COM_CODE_DETAIL_DESC
		, COM_CODE_DETAIL_SEQ
		, COM_CODE_DETAIL_USEDCHK)
		VALUES
		( UPPER(#{comCodeId})
		, UPPER(#{comCodeDetailId})
		, #{comCodeDetailName}
		, #{comCodeDetailDesc}
		, #{comCodeDetailSeq}
		, #{comCodeDetailUsedchk})
	
	</insert>
	
	<delete id="deleteComCodeDetail" parameterType="mes.com.comCode.service.ComCodeVO">
		DELETE FROM COM_CODE_DETAIL
		WHERE COM_CODE_DETAIL_ID = UPPER(#{comCodeDetailId})
	</delete>


</mapper>
